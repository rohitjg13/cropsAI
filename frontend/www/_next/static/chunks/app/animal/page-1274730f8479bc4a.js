(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[611],{8402:(e,t,s)=>{Promise.resolve().then(s.bind(s,8827))},8827:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(5155),n=s(4085),l=s(5631),i=s(6418),o=s(5565),r=s(2115),c=s(5683),d=s(3478),x=s(9534);function m(e){var t,s,n,l,i,m,u;let{cards:g}=e,[p,j]=(0,r.useState)(null),f=(0,r.useRef)(null),v=(0,r.useId)();(0,r.useEffect)(()=>{function e(e){"Escape"===e.key&&j(null)}return document.body.style.overflow=p?"hidden":"auto",window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[p]),(0,x.j)(f,()=>j(null));let w=e=>{let t=t=>{let s={disease_name:e.disease_name,animal_name:e.animal_name,location:t};fetch("http://".concat("127.0.0.1:6942","/smsVet"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(e=>{e.ok?alert("SMS sent to vet!"):alert("Failed to send SMS.")}).catch(()=>{console.error("Error sending SMS"),alert("An error occurred.")})};if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{let{latitude:s,longitude:a}=e.coords;t("https://www.google.com/maps?q=".concat(s,",").concat(a))},()=>{let e=window.prompt("Geolocation failed. Please enter your location manually (or provide a maps URL):");e&&t(e)});else{let e=window.prompt("Geolocation is not supported by your browser. Please enter your location manually (or provide a maps URL):");e&&t(e)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.N,{children:p&&(0,a.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 h-full w-full z-10"})}),(0,a.jsx)(c.N,{children:p?(0,a.jsxs)("div",{className:"fixed inset-0 grid place-items-center z-[100]",children:[(0,a.jsx)(d.P.button,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.05}},className:"flex absolute top-2 right-2 lg:hidden items-center justify-center bg-white rounded-full h-6 w-6",onClick:()=>j(null),children:(0,a.jsx)(h,{})},"button-".concat(p.disease_name,"-").concat(v)),(0,a.jsxs)(d.P.div,{layoutId:"card-".concat(p.disease_name,"-").concat(v),ref:f,className:"w-full max-w-[500px] h-full md:h-fit md:max-h-[80%] flex flex-col bg-white dark:bg-neutral-900 sm:rounded-3xl overflow-hidden shadow-lg",children:[(0,a.jsx)(d.P.div,{layoutId:"image-".concat(p.disease_name,"-").concat(v),children:(0,a.jsx)(o.default,{priority:!0,width:200,height:200,src:p.image,alt:p.disease_name,className:"w-full h-60 lg:h-60 sm:rounded-tr-lg sm:rounded-tl-lg object-cover object-top"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-start p-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.P.h3,{layoutId:"title-".concat(p.disease_name,"-").concat(v),className:"font-bold text-neutral-700 dark:text-neutral-200 text-2xl",children:p.disease_name}),(0,a.jsx)(d.P.p,{layoutId:"description-".concat(p.disease_description,"-").concat(v),className:"text-neutral-600 dark:text-neutral-400 text-sm mt-2",children:p.disease_description})]}),(0,a.jsx)(d.P.button,{layoutId:"button-".concat(p.disease_name,"-").concat(v),onClick:()=>w(p),className:"px-4 py-3 text-sm rounded-2xl font-bold bg-green-500 text-white",children:"Contact Vet"})]}),(0,a.jsx)("div",{className:"pt-4 relative px-4",children:(0,a.jsx)(d.P.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-neutral-600 dark:text-neutral-400 text-lg md:text-xl max-h-[50vh] pb-8 flex flex-col items-start gap-4 overflow-auto",children:p.content?p.content:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Animal:"})," ",p.animal_name]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Description:"})," ",p.animal_description]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Disease:"})," ",p.disease_name]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Disease Description:"})," ",p.disease_description]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Causes:"})," ",p.causes]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Symptoms:"})," ",p.symptoms]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Prevention Measures:"})," ",p.prevention_measures]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-lg font-bold",children:"Treatment:"}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Medications:"})," ",null===(s=p.treatment)||void 0===s?void 0:null===(t=s.medications)||void 0===t?void 0:t.join(", ")]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Vaccinations:"})," ",null===(l=p.treatment)||void 0===l?void 0:null===(n=l.vaccinations)||void 0===n?void 0:n.join(", ")]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Natural Remedies:"})," ",null===(m=p.treatment)||void 0===m?void 0:null===(i=m.natural_remedies)||void 0===i?void 0:i.join(", ")]})]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Transmission:"})," ",p.transmission]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Risk Factors:"})," ",p.risk_factors]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Affected Species:"})," ",null===(u=p.affected_species)||void 0===u?void 0:u.join(", ")]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Quarantine Measures:"})," ",p.quarantine_measures]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Recovery Time:"})," ",p.recovery_time]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Veterinary Consultation:"})," ",p.veterinary_consultation]})]})})})]})]})]}):null}),(0,a.jsx)("ul",{className:"max-w-2xl mx-auto w-full gap-4",children:(g||[]).map(e=>(0,a.jsxs)(d.P.div,{layoutId:"card-".concat(e.disease_name,"-").concat(v),onClick:()=>j(e),className:"p-4 flex flex-row items-center border border-black hover:border-green-500 hover:bg-neutral-50 dark:hover:bg-neutral-800 rounded-xl cursor-pointer transition-all duration-200 w-full max-w-lg",children:[(0,a.jsx)(d.P.div,{layoutId:"image-".concat(e.disease_name,"-").concat(v),className:"flex-shrink-0",children:(0,a.jsx)(o.default,{width:100,height:100,src:e.image,alt:e.disease_name,className:"h-24 w-24 rounded-lg object-cover object-top"})}),(0,a.jsxs)("div",{className:"flex flex-col ml-4 flex-grow",children:[(0,a.jsx)(d.P.h3,{layoutId:"title-".concat(e.disease_name,"-").concat(v),className:"font-medium text-neutral-800 dark:text-neutral-200 text-left text-lg",children:e.disease_name}),(0,a.jsx)(d.P.p,{layoutId:"description-".concat(e.disease_description,"-").concat(v),className:"text-neutral-600 dark:text-neutral-400 text-left text-sm line-clamp-2",children:e.disease_description}),(0,a.jsx)(d.P.button,{layoutId:"button-".concat(e.disease_name,"-").concat(v),onClick:()=>j(e),className:"mt-2 px-4 py-2 text-sm rounded-lg ml-8 font-bold bg-green-500 hover:bg-green-500 hover:text-white text-black self-start",children:"Contact Vet"})]})]},"card-".concat(e.disease_name,"-").concat(v)))})]})}let h=()=>(0,a.jsxs)(d.P.svg,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.05}},xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 text-black",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M18 6l-12 12"}),(0,a.jsx)("path",{d:"M6 6l12 12"})]});var u=s(2125),g=s(6422);let p=[{text:"Uploading Image"},{text:"Analyzing Image"},{text:"Detecting Animal"},{text:"Fetching Additional Data"},{text:"Processing Image"},{text:"Almost there..."},{text:"Finalizing result"},{text:"Hang tight, we're working our magic!"},{text:"Almost there, just a moment longer..."},{text:"Good things take a little time!"},{text:"Stay tuned, finishing up!"},{text:"Just a few more seconds..."},{text:"Prepare to be amazed!"}];function j(){let[e,t]=(0,r.useState)([]),[s,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)([]),x=async()=>{if(0===e.length)return;o(!0);let t=new FormData;t.append("image",e[0]);try{let e=await fetch("http://".concat("127.0.0.1:6942","/animalPrediction"),{method:"POST",body:t});if(!e.ok)throw Error("Request failed");let s=await e.json();if(console.log(s),s.image){let e=s.image;e.startsWith("data:")||(e="data:image/png;base64,".concat(e));let t=function(e){let t=atob(e.split(",")[1]),s=e.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),n=new Uint8Array(a);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return new Blob([a],{type:s})}(e);s.image=URL.createObjectURL(t)}console.log(s),d([s,...c])}catch(e){console.error("Error during prediction:",e)}finally{o(!1)}};return(0,a.jsxs)("div",{children:[(0,a.jsx)(u.b,{loadingStates:p,loading:s,duration:2e3}),(0,a.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50",children:(0,a.jsx)(i.V,{})}),(0,a.jsx)("main",{className:"relative min-h-screen overflow-y-auto pt-[32px] pb-[32px] bg-white",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full gap-4 p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,a.jsx)("div",{className:"flex justify-center w-full mt-8",children:(0,a.jsx)(l.e,{onChange:e=>{t(e),console.log(e)}})}),(0,a.jsx)("div",{className:"flex justify-center w-full",children:(0,a.jsx)(n.$,{onClick:x,className:"text-sm w-auto h-auto",children:"Continue"})})]}),(0,a.jsx)("br",{}),c.length>0&&(0,a.jsx)(m,{cards:c})]})}),(0,a.jsx)("footer",{className:"fixed bottom-0 left-0 right-0 z-50",children:(0,a.jsx)(i.d,{})}),s&&(0,a.jsx)("button",{className:"fixed top-4 right-4 text-black dark:text-white z-[120]",onClick:()=>o(!1),children:(0,a.jsx)(g.A,{className:"h-10 w-10"})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[813,889,441,587,358],()=>t(8402)),_N_E=e.O()}]);